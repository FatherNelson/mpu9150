<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>{{device}} &middot; cockpit</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta name="description" content="">
		<meta name="author" content="">

		<!-- CSS -->
		<link href="/static/css/bootstrap.min.css" rel="stylesheet">

		<link href="/static/css/bootstrap-theme.min.css" rel="stylesheet">

		<link href="/static/css/cockpit.css" rel="stylesheet">
	</head>

	<body>

	<!-- Part 1: Wrap all page content here -->
	<div id="wrap">

      <!-- Fixed navbar -->
		<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
		      <div class="container">
		        <div class="navbar-header">
		          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
		            <span class="sr-only">Toggle navigation</span>
		            <span class="icon-bar"></span>
		            <span class="icon-bar"></span>
		            <span class="icon-bar"></span>
		          </button>
		          <a class="navbar-brand" href="/">{{device}} cockpit</a>
		        </div>
		        <div class="navbar-collapse collapse">
		          	<ul class="nav navbar-nav navbar-right">
						<li class="dropdown" id="controloption">
							<a href="#" class="dropdown-toggle controlstatus" data-toggle="dropdown">Control : Disabled <b class="caret"></b></a>
						    <ul class="dropdown-menu">
					        	<li><a href="#" class='keyboardcontrol'>Enable Keyboard Control [Enter]</a></li>
					          	<li style='display:none;'><a href="#" class='gamepadcontrol'>Enable Gamepad Control [Select]</a></li>
					          	<li class="divider"></li>
					          	<li><a href="#" class='disablecontrol'>Disable Control in this Window</a></li>
					        </ul>
					    </li>
						<li class="settingslink"><a href="#about"  data-toggle="modal" data-target="#settingsModal">Settings&nbsp;&nbsp;<span class="glyphicon glyphicon-cog"></span></a></li>
						<li id="heartbeat"><a href=""><span class="glyphicon glyphicon-heart-empty"></span></a></li>
					</ul>
		        </div><!--/.navbar-collapse -->
		      </div>
		    </div>





      <!-- Begin page content -->
      <div class="container">
        {{{body}}}
      </div>

      <div id="push"></div>
    </div>

	<!-- Modals -->
	<div id="settingsModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="settingsModalLabel" aria-hidden="true">
		<div class="modal-dialog">
		    <div class="modal-content">

	<div class="modal-header">
	    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>
	    <h4 class="modal-title" id="settingsModalLabel">Settings</h4>
	  </div>
	  <div class="modal-body">
		<form>
			<ul class="nav nav-tabs">
			  <li class="active"><a href="#layout" data-toggle="pill">Layout</a></li>
			  <li><a href="#modules" data-toggle="pill">Modules</a></li>
			  <li><a href="#advanced" data-toggle="pill">Advanced</a></li>
			</ul>

			<div class="tab-content">
			  <div class="tab-pane active" id="layout">
			  		<fieldset style="margin-top:30px;">
						<div class="controls controls-row">
						{{#each layouts}}
							<label class="col-md-6">
							  <input type="radio" name="layoutradio" id="layoutradio-{{@key}}" value="{{@key}}" />&nbsp;&nbsp;{{this}}
							</label>
						{{else}}
						  <p class="empty">No Layouts loaded</p>
						{{/each}}
						</div>
					</fieldset>
			  </div>
			  <div class="tab-pane" id="modules">
			  		<fieldset style="margin-top:30px;">
						<div class="controls controls-row">
						{{#each modules}}
							<label class="radio span2">
							  <input type="checkbox" name="modules[]" value="{{@key}}" />&nbsp;&nbsp;{{#with this}}{{label}}{{/with}}
							</label>
						{{else}}
						  <p class="empty">No Modules loaded</p>
						{{/each}}
						</div>
					</fieldset>

			  </div>
			  <div class="tab-pane" id="advanced">
					<fieldset>
						<div class="controls controls-row">
			  				<p>Nothing to see here, yet!</p>
						</div>
					</fieldset>
			  </div>
			</div>

		</form>
	  </div>
	  <div class="modal-footer">
	    <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
	    <button id="settingsSaveChanges" class="btn btn-primary">Save changes</button>
	  </div>
	</div>
	</div>
	</div>


	<!-- Le javascript
	================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->
	<script src="/static/js/libs/jquery.min.js"></script>
	<script src="/static/js/libs/bootstrap.min.js"></script>

	<script src="/static/js/libs/jquery.ui.core.min.js"></script>
	<script src="/static/js/libs/jquery.ui.widget.min.js"></script>
	<script src="/static/js/libs/jquery.ui.mouse.min.js"></script>
	<script src="/static/js/libs/jquery.ui.sortable.min.js"></script>

	<script type='text/javascript' src='/static/js/libs/gamepad.min.js'></script>
	<script type='text/javascript' src="/static/js/gamepad.js"></script>
	<script type='text/javascript' src="/static/js/keypad.js"></script>

  	<script src="/socket.io/socket.io.js"></script>

	<script src="/static/js/cockpit.js"></script>

	<script type='text/javascript'>
		var availablemodules = [
		{{#each modules}}{{#with this}}'/static/js/modules/{{library}}',{{/with}}{{/each}}
		];

		availablemodules.forEach(function(src) {
			var script = document.createElement('script');
			script.src = src;
			script.async = false;
			document.head.appendChild(script);
		});
	</script>
  </body>
</html>